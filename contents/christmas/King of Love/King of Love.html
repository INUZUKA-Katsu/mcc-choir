<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/choir.css">
    <script type="text/javascript" src="/js/get_mp3.js"></script>
    <script src="/js/svgPiano.js"></script>
    <script src="/js/howler.core.js"></script>
    <script src="https://unpkg.com/@tonejs/midi"></script>
    <style>
      div.audio-container {
        height: 30px;
        width: 300px;
        display: flex;
        flex-direction: row;
        align-items: center;
        margin-bottom: 10px;
        gap: 5px
      }
      li {height: 120px;}
    </style>
	  <script type='text/javascript'>
        const mp3Files = {
          "soprano" : '/christmas/King of Love/King of Love(soprano).mp3',
          "alto"    : '/christmas/King of Love/King of Love(alto).mp3',
          "tenor"   : '/christmas/King of Love/King of Love(tenor).mp3',
          "bass"    : '/christmas/King of Love/King of Love(bass).mp3',
          "full"    : '/christmas/King of Love/King of Love(full).mp3',
          "vcl_soprano" : '/christmas/King of Love/King of Love(vcl_soprano).mp3',
          "vcl_alto"    : '/christmas/King of Love/King of Love(vcl_alto).mp3',
          "vcl_tenor"   : '/christmas/King of Love/King of Love(vcl_tenor).mp3',
          "vcl_bass"    : '/christmas/King of Love/King of Love(vcl_bass).mp3',
          "vcl_full"    : '/christmas/King of Love/King of Love(vcl_full).mp3'
        };
        const midiFiles = {
          soprano: '/christmas/King of Love/King of Love-Soprano.mid',
          alto: '/christmas/King of Love/King of Love-Alto.mid',
          tenor: '/christmas/King of Love/King of Love-Tenor.mid',
          bass: '/christmas/King of Love/King of Love-Bass.mid',
          full: '/christmas/King of Love/King of Love(4sei).mid'
        }
        window.addEventListener("DOMContentLoaded", function () {
          fetch('/連絡事項.txt').then(response => response.text()).then(data => {
            document.getElementById('comuBoard').innerHTML = data;
          }).catch(error => {
            console.error('Error fetching the file:', error);
          });
        });
	  </script>
	  <style type="text/css">
	  </style>
    <title>'King of Love'パート別練習用音源</title>
	</head>
	<body>
<div class='body'>
<h1>パート別練習用音源</h1>

<div class='nen'>
  <h4>King of Love</h4>
  <ul style="list-style: none;">
    <li>
      <div class="part">ソプラノ</div>
      <div class="audio-container" name="soprano"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_soprano"></div>
    </li>
    <li>
      <div class="part">アルト</div>
      <div class="audio-container" name="alto"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_alto"></div>
    </li>
    <li>
      <div class="part">テノール</div>
      <div class="audio-container" name="tenor"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_tenor"></div>
    </li>
    <li>
      <div class="part">バス</div>
      <div class="audio-container" name="bass"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_bass"></div>
    <li>
      <div class="part">コーラス</div>
      <div class="audio-container" name="full"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_full"></div>
    </li>
  </ul>
</div>

<div id="piano-container"></div>

<div class="words">
</div>
<br>
<div class="nen">
    <div class="apendix"><a href='#' onclick="plus_password('./King of Love(楽譜).pdf')">楽　譜</a></div>
    <br>
    <div class="apendix">連　絡</div>
    <div class="textarea1">
      <textarea id="comuBoard" readonly cols="32" rows="10"><!--連絡事項--></textarea>
    </div>
    <br>
    <div class="textarea2">
      <label for="returnText">連絡事項の先頭に追記する</label>
      <textarea id="returnText" cols="32" rows="5"></textarea>
      <div class="input">
        <input type="button" name="return" value="実行" onclick="addText()">
        <input type="button" name="cancel" value="キャンセル" onclick="cancelText()" style="margin-left:5px;">
      </div>
    </div>
</div>
<div class='link'>
  <a href='../あめにはさかえ/あめにはさかえ.html'>⇒ "あめにはさかえ"のページへ.</a><br>
  <a href='/mcc/index.html'>⇒ MCCワーシップクワイアーの持ち歌のページに戻る.</a>
</div>
</div>


<script>
  const svgPiano = new SvgPiano(
    'piano-container',
    {
        min_key_number: 41,
        number_of_white_keys: 22,
        white_key_width: 30,
        white_key_height: 120,
        black_key_width: 24,
        black_key_height: 70,
    }
  );
  window.audioControls = [];
  document.querySelectorAll(".audio-container").forEach(container => {
    const name = container.getAttribute("name");
    if (name) {
      const playBtn = document.createElement("button");
      playBtn.setAttribute("id", `playBtn-${name}`);
      playBtn.innerHTML = "Play";
      container.appendChild(playBtn);

      const pauseBtn = document.createElement("button");
      pauseBtn.setAttribute("id", `pauseBtn-${name}`);
      pauseBtn.innerHTML = "Pause";
      container.appendChild(pauseBtn);

      const stopBtn = document.createElement("button");
      stopBtn.setAttribute("id", `stopBtn-${name}`);
      stopBtn.innerHTML = "Stop";
      container.appendChild(stopBtn);

      const seekBar = document.createElement("input");
      seekBar.setAttribute("id", `seekBar-${name}`);
      seekBar.setAttribute("type", "range");
      seekBar.setAttribute("min", "0");
      seekBar.setAttribute("max", "100");
      seekBar.setAttribute("step", "0.1");
      seekBar.setAttribute("value", "0");
      seekBar.style.width = "200px";
      container.appendChild(seekBar);

      window.audioControls.push(new AudioControl({
        svgPiano: svgPiano,
        playBtn: `playBtn-${name}`,
        pauseBtn: `pauseBtn-${name}`,
        stopBtn: `stopBtn-${name}`,
        seekBar: `seekBar-${name}`,
        mp3File: mp3Files[name],
        midiFile: midiFiles[name.replace('vcl_', '')],
        loop: true
      }))
    }
  });
</script>
	</body>
</html>
