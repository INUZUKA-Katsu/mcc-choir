<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/choir.css">
    <script src="/js/get_mp3.js"></script>
    <script src="/js/get_information.js"></script>
    <script src="/js/svgPiano.js"></script>
    <script src="/js/howler.core.js"></script>
    <script src="https://unpkg.com/@tonejs/midi"></script>
	  <script type='text/javascript'>
        const mp3Files = {
          "soprano"     : '/easter/Teach Me to Love/Teach Me to Love(soprano).mp3',
          "alto"        : '/easter/Teach Me to Love/Teach Me to Love(alto).mp3',
          "tenor"       : '/easter/Teach Me to Love/Teach Me to Love(tenor).mp3',
          "full"        : '/easter/Teach Me to Love/Teach Me to Love(full).mp3',
          "vcl_soprano" : '/easter/Teach Me to Love/Teach Me to Love(vcl_soprano).mp3',
          "vcl_alto"    : '/easter/Teach Me to Love/Teach Me to Love(vcl_alto).mp3',
          "vcl_tenor"   : '/easter/Teach Me to Love/Teach Me to Love(vcl_tenor).mp3',
          "vcl_full"    : '/easter/Teach Me to Love/Teach Me to Love(vcl_full).mp3'
        };
        const midiFiles = {
          soprano: ['/easter/Teach Me to Love/Teach Me to Love.mid', 0],
          alto: ['/easter/Teach Me to Love/Teach Me to Love.mid', 1],
          tenor: ['/easter/Teach Me to Love/Teach Me to Love.mid', 2],
          full: ['/easter/Teach Me to Love/Teach Me to Love.mid', [0,1,2]]
        }
	</script>
	<style type="text/css">
      div.audio-container {
        height: 30px;
        width: 400px;
        display: flex;
        flex-direction: row;
        align-items: center;
        margin-bottom: 10px;
        gap: 5px
      }
      span.timeDisplay {
        width: auto;
        font-size: 12px;
        text-wrap: nowrap;
      }
      li {height: 120px;}
      li div {width: "";}
  </style>
  <title>'Teach Me to Love'パート別練習用音源</title>
	</head>
	<body>
<div class='body'>
<h1>パート別練習用音源</h1>
<div class='nen'>
  <h4>Teach Me to Love</h4>
  <ul style="list-style: none;">
    <li>
      <div class="part">ソプラノ</div>
      <div class="audio-container" name="soprano"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_soprano"></div>
    </li>
    <li>
      <div class="part">アルト</div>
      <div class="audio-container" name="alto"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_alto"></div>
    </li>
    <li>
      <div class="part">テノール</div>
      <div class="audio-container" name="tenor"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_tenor"></div>
    </li>
    <li>
      <div class="part">コーラス</div>
      <div class="audio-container" name="full"></div>
      <div class="vcl">AI Vocal</div>
      <div class="audio-container" name="vcl_full"></div>
    </li>
   </ul>
</div>
<div id="piano-container"></div>
<div class="words">
</div>
<br>
<div class="nen">
    <div class="apendix"><a href='#' onclick="plus_password('./Teach Me to Love.pdf')">楽　譜</a></div>
    <br>
    <div class="apendix">連　絡</div>
    <div class="textarea1">
      <textarea id="comuBoard" readonly cols="32" rows="10"><!--連絡事項--></textarea>
    </div>
    <br>
    <div class="textarea2">
      <label for="returnText">連絡事項の先頭に追記する</label>
      <textarea id="returnText" cols="32" rows="5"></textarea>
      <div class="input">
        <input type="button" name="return" value="実行" onclick="addText()">
        <input type="button" name="cancel" value="キャンセル" onclick="cancelText()" style="margin-left:5px;">
      </div>
    </div>
</div>
<div class='link'>
  <a href='/mcc/index.html'>⇒ MCCワーシップクワイアーの持ち歌のページに戻る.</a>
</div>
</div>


<script>
  const svgPiano = new SvgPiano(
    'piano-container',
    {
        min_key_number: 48,
        number_of_white_keys: 19,
        white_key_width: 30,
        white_key_height: 120,
        black_key_width: 24,
        black_key_height: 70,
        volume: 0.5,
        key: '♭3',
        justIntnation: true
    }
  );

  // パート別に play,pause,stopの各ボタン、seekBar,timeDisplay を作成
  const audioControls = setAudioControls(".audio-container");

  // audioControlインスタンスに、svgPiano,midiファイル,mp3ファイル等を設定
  audioControls.forEach(audioControl => {
    const name = audioControl.options.name;
    audioControl.update({
      svgPiano: svgPiano,
      mp3File: mp3Files[name],
      midiFile: midiFiles[name.replace('vcl_', '')][0],
      trackIndex: midiFiles[name.replace('vcl_', '')][1],
      OFFSET:-0.1 // MP3とmidiの演奏開始のタイミング合わせ。例：1.3 ⇒ midiのスタートを1.3秒遅らせる。
    });
  });
</script>
	</body>
</html>
